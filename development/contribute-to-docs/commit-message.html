
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Commit message 书写指南 &#8212; MegEngine 1.3.0 文档</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.93dda2a1e4f2b831d8345b5b3dbee4ea.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.3c6125c0ae68274ddd1b.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/translations.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script src="../../_static/js/custom.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="如何在本地构建文档" href="build-the-doc-locally.html" />
    <link rel="prev" title="Sphinx reStructuredText 语法入门" href="restructuredtext.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">


    
      
      <a class="navbar-brand" href="../../index.html">
        <img src="../../_static/logo.png" class="logo" alt="logo">
      </a>
      
    

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    
    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting-started/index.html">
  新手入门
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../user-guide/index.html">
  用户指南
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../reference/index.html">
  API 参考
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  开发者指南
 </a>
</li>

        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://discuss.megengine.org.cn/">论坛<i class="fas fa-external-link-alt"></i></a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://megengine.org.cn/">官网<i class="fas fa-external-link-alt"></i></a>
        </li>
        
      </ul>

      <form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="输入搜索文本..." aria-label="输入搜索文本..." autocomplete="off" >
</form>
      <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/MegEngine/MegEngine" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>

      <script type="text/javascript">
  (function () {
    window.versionSwitcher = {
      pageName: "development/contribute-to-docs/commit-message.html",
      versionJsonUrl: "/doc/version.json",
      enableLocaleSupport: "True" === "True",
      // TODO read from "zh, en"
      allLocales: [
        {
          "locale": "zh",
          "display": "中文"
        },
        {
          "locale": "en",
          "display": "EN"
        }
      ]
    }
  })();
</script>

<ul class="navbar-nav">
  <li class="nav-item dropdown">
    <button id="version-dropdown" class="btn btn-secondary btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      <!-- placeholder for javascript filling above -->
    </button>
    <div id="version-menu" class="dropdown-menu" style="min-width: 6rem;">
      <!-- placeholder for javascript filling above -->
    </div>
  </li>
  <li class="nav-item">
    <span id="locale-switcher">
      <!-- placeholder for locale switcher -->
    </span>
  </li>
</ul>
      
        </li>
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../architecture-design.html">
   MegEngine 架构设计
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../roadmap/index.html">
   MegEngine 开发路线图
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../meps.html">
   MegEngine 增强提案（MEPs）
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../environment/index.html">
   开发环境设置
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../workflow.html">
   开发流程概述
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../debugging-tools.html">
   调试工具
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../benchmark.html">
   基准测试（Benchmark）
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../governance.html">
   MegEngine 社区治理
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="reference internal" href="index.html">
   如何为文档做贡献
  </a>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="document-style-guide.html">
     MegEngine 文档风格指南
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="restructuredtext.html">
     Sphinx reStructuredText 语法入门
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Commit message 书写指南
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="build-the-doc-locally.html">
     如何在本地构建文档
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="translation.html">
     如何帮助翻译文档内容
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   标准写法
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#header">
     Header
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#body">
     Body
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#footer">
     Footer
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   精简写法
  </a>
 </li>
</ul>

</nav>


              
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="commit-message">
<span id="id1"></span><h1>Commit message 书写指南<a class="headerlink" href="#commit-message" title="永久链接至标题">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>该指南中的规则不一定适用于除 MegEngine 文档以外的项目。</p>
</div>
<div class="section" id="id2">
<h2>标准写法<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>一般而言，每个 commit 都有对应至少一个 Issue/Pull Request 与之相关联。</p>
<p>标准的 commit message 包含 Header、Body 和 Footer 三个部分（彼此之间空一行）：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&lt;type&gt;<span class="o">(</span>&lt;scope&gt;<span class="o">)</span>: &lt;short summary&gt;
// 空一行
&lt;body&gt;
// 空一行
&lt;footer&gt;
</pre></div>
</div>
<p>样例如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>type(scope): summarize changes in around 50 characters or less

More detailed explanatory text, if necessary. Wrap it to about 72
characters or so. In some contexts, the first line is treated as the
subject of the commit and the rest of the text as the body. The
blank line separating the summary from the body is critical (unless
you omit the body entirely); various tools like `log`, `shortlog`
and `rebase` can get confused if you run the two together.

Explain the problem that this commit is solving. Focus on why you
are making this change as opposed to how (the code explains that).
Are there side effects or other unintuitive consequences of this
change? Here&#39;s the place to explain them.

Further paragraphs come after blank lines.

- Bullet points are okay, too
- Typically a hyphen or asterisk is used for the bullet, preceded
  by a single space, with blank lines in between, but conventions
  vary here

If you use an issue tracker, put references to them at the bottom,
like this:

Resolves: #123
See also: #456, #789
</pre></div>
</div>
<div class="section" id="header">
<h3>Header<a class="headerlink" href="#header" title="永久链接至标题">¶</a></h3>
<p>Header 通常也称为 Subject，是查看 <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code> 时必需的信息：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&lt;type&gt;<span class="o">(</span>&lt;scope&gt;<span class="o">)</span>: &lt;short summary&gt;
</pre></div>
</div>
<p>其中类型（Type）主要有以下几类：</p>
<ul class="simple">
<li><p>文档（docs）：最主要也是最常见的类型，所有文档内容的增删查改都归于此类</p></li>
<li><p>勘误（errata）：顾名思义，即对文档中错误内容的更正，改动幅度往往较小</p></li>
<li><p>样式（style）：对文档格式的修改，通常是为了让内容看起来更清晰美观</p></li>
<li><p>重构（refactor）：对文档内容的结构性调整，可以是多个文件结构的重构</p></li>
<li><p>翻译（trans）：翻译英文 API docstring 或者将中文文档翻译成英文</p></li>
<li><p>构建（build）：Sphinx 引擎构建文档逻辑流程、配置文件相关的改动</p></li>
<li><p>持续集成（ci）：在这个项目中专指 GitHub Actions 中的一些工作流改动</p></li>
<li><p>特性（feat）：专指文档功能特性的变化，比如使用新的 Sphinx 插件等等</p></li>
<li><p>修复（fix）：对导致文档无法正常显示的一类 Bug 的修复</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>请不要将对文档内容的勘误当作 Bug 修复从而归类于 fix 类型。</p>
</div>
<p>范围（Scope）是可选项，根据修改所影响的内容而定，常见类型有：</p>
<ul class="simple">
<li><p>模块名： <code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">tensor</span></code>, <code class="docutils literal notranslate"><span class="pre">functional</span></code> 等</p></li>
<li><p>所属分类： <code class="docutils literal notranslate"><span class="pre">tutorial</span></code>, <code class="docutils literal notranslate"><span class="pre">guide</span></code>, <code class="docutils literal notranslate"><span class="pre">example</span></code> 等</p></li>
</ul>
<p>总结（Summary）是对 commit 的简短描述，要求如下：</p>
<ul class="simple">
<li><p>不超过 50 个字符</p></li>
<li><p>动词开头，使用第一人称现在时，比如 change 而不是 changes 或 changed</p></li>
<li><p>第一个字母小写</p></li>
<li><p>结尾不加句号</p></li>
</ul>
</div>
<div class="section" id="body">
<h3>Body<a class="headerlink" href="#body" title="永久链接至标题">¶</a></h3>
<p>当需要对 commit 进行更加详细的描述时，通常会将其放在正文部分。</p>
<p>更常见的情况是，在 Issue/Pull Request 中进行具体的讨论和更改，
仅在有必要的情况下，会选择在 commit message 中说明原因和影响。</p>
</div>
<div class="section" id="footer">
<h3>Footer<a class="headerlink" href="#footer" title="永久链接至标题">¶</a></h3>
<p>用于添加各种参考信息，比如 Issues/Pull Request 的 ID，或参考的网页链接等等。
由于 MegEngine 文档使用 GitHub 处理工作流，因此也可以参考
<a class="reference external" href="https://docs.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue">Linking a pull request to an issue using a keyword</a> .</p>
</div>
</div>
<div class="section" id="id3">
<h2>精简写法<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>当 Commit message 中不包含 Body 部分时，可进行精简表示:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>errata<span class="o">(</span>tutorial<span class="o">)</span>: correct the xxx typo <span class="o">(</span><span class="c1">#123)</span>
</pre></div>
</div>
<p>其中 # 后跟着的数字是对应的 Issue/Pull Request ID.</p>
</div>
</div>


              </div>
              
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.3c6125c0ae68274ddd1b.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2020-2021, The MegEngine Open Source Team.<br/>
        由 <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.3 创建。<br/>
    </p>
  </div>
</footer>
  </body>
</html>